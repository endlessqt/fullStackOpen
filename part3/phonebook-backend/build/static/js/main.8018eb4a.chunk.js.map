{"version":3,"sources":["Components/Filter.js","Components/Form.js","Components/Person.js","Components/Content.js","Components/Notification.js","services/numbers.js","App.js","index.js"],"names":["Filter","onChange","Form","addPerson","newName","handleChange","handleChange2","newNumber","onSubmit","value","type","Person","name","number","handleDelete","onClick","Content","personsToShow","map","person","key","id","Notification","notification","style","status","color","fontSize","backgroundColor","borderRadius","borderStyle","borderColor","padding","marginBottom","text","baseUrl","axios","get","then","res","data","newObj","post","delete","put","App","useState","persons","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","showAll","setShowAll","setNotification","useEffect","numberServices","catch","err","alert","notificationFactory","filter","toLowerCase","includes","e","target","preventDefault","personObj","setTimeout","find","personToUpd","window","confirm","copy","returnedPerson","response","error","concat","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8018eb4a.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ onChange }) => {\r\n  return (\r\n    <div>\r\n      search by name\r\n      <input onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Form = ({ addPerson, newName, handleChange, handleChange2, newNumber }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleChange} />\r\n            </div>\r\n            <div>\r\n                number: <input value={newNumber} onChange={handleChange2} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\nexport default Form;","import React from \"react\";\r\n\r\nconst Person = ({ name, number, handleDelete }) => {\r\n  return (\r\n    <li>\r\n      {name} {number} <button onClick={handleDelete}>delete</button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Content = ({ personsToShow, handleDelete }) => {\r\n  return (\r\n    <ul>\r\n      {personsToShow.map((person) => {\r\n        return (\r\n          <Person\r\n            key={person.name}\r\n            name={person.name}\r\n            number={person.number}\r\n            handleDelete={() => handleDelete(person.id)}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Content;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  const errorStyle = {\r\n    color: \"red\",\r\n    fontSize: 30,\r\n    backgroundColor: \"lightgray\",\r\n    borderRadius: 5,\r\n    borderStyle: \"solid\",\r\n    borderColor: \"red\",\r\n    padding: 8,\r\n    marginBottom: 5,\r\n  };\r\n  const completedStyle = {\r\n    color: \"green\",\r\n    fontSize: 30,\r\n    backgroundColor: \"lightgray\",\r\n    borderRadius: 5,\r\n    borderColor: \"green\",\r\n    borderStyle: \"solid\",\r\n    padding: 8,\r\n    marginBottom: 5,\r\n  };\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div style={notification.status === \"error\" ? errorStyle : completedStyle}>\r\n      {notification.text}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl);\r\n  return req.then((res) => res.data);\r\n};\r\n\r\nconst create = (newObj) => {\r\n  const req = axios.post(baseUrl, newObj);\r\n  return req.then((res) => res.data);\r\n};\r\n\r\nconst del = (id) => {\r\n  const req = axios.delete(`${baseUrl}/${id}`);\r\n  return req.then((res) => res.data);\r\n};\r\nconst update = (id, newObj) => {\r\n  const req = axios.put(`${baseUrl}/${id}`, newObj);\r\n  return req.then((res) => res.data);\r\n};\r\nexport default {\r\n  getAll,\r\n  create,\r\n  del,\r\n  update,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Filter from \"./Components/Filter\";\r\nimport Form from \"./Components/Form\";\r\nimport Content from \"./Components/Content\";\r\nimport Notification from \"./Components/Notification\";\r\nimport numberServices from \"./services/numbers\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [newFilter, setNewFilter] = useState(\"\");\r\n  const [showAll, setShowAll] = useState(true);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    numberServices\r\n      .getAll()\r\n      .then((persons) => setPersons(persons))\r\n      .catch((err) => alert(err));\r\n  }, []);\r\n  const notificationFactory = (status, text) => {\r\n    return setNotification({ status, text });\r\n  };\r\n  const personsToShow = showAll\r\n    ? persons\r\n    : persons.filter((person) =>\r\n        person.name.toLowerCase().includes(newFilter.toLowerCase())\r\n      );\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault();\r\n    const personObj = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    if (newName === \"\" || newNumber === \"\") {\r\n      notificationFactory(\r\n        \"error\",\r\n        `You have to enter name or number of the person you want to add`\r\n      );\r\n      setTimeout(() => {\r\n        setNotification(null);\r\n      }, 4000);\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    } else if (\r\n      persons.find(\r\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n      )\r\n    ) {\r\n      const personToUpd = persons.find(\r\n        (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n      );\r\n      if (\r\n        window.confirm(\r\n          `${personToUpd.name} is already in phonebook, do you wish to replace his number with new one?`\r\n        )\r\n      ) {\r\n        const copy = { ...personToUpd, number: newNumber };\r\n        numberServices\r\n          .update(personToUpd.id, copy)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== personToUpd.id ? person : returnedPerson\r\n              )\r\n            );\r\n            notificationFactory(\r\n              \"done\",\r\n              `Number of ${personToUpd.name} successfully updated`\r\n            );\r\n            setTimeout(() => {\r\n              setNotification(null);\r\n            }, 4000);\r\n          })\r\n          .catch((err) => {\r\n            notificationFactory(\"error\", err.response.data.error);\r\n            setTimeout(() => {\r\n              setNotification(null);\r\n            }, 4000);\r\n          });\r\n      }\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    } else {\r\n      numberServices\r\n        .create(personObj)\r\n        .then((res) => {\r\n          setPersons(persons.concat(res));\r\n          notificationFactory(\r\n            \"done\",\r\n            `${personObj.name} succesfully added to your phonebook`\r\n          );\r\n          setTimeout(() => {\r\n            setNotification(null);\r\n          }, 4000);\r\n        })\r\n        .catch((err) => {\r\n          notificationFactory(\"error\", err.response.data.error);\r\n          setTimeout(() => {\r\n            setNotification(null);\r\n          }, 4000);\r\n        });\r\n      setNewName(\"\");\r\n      setNewNumber(\"\");\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setNewName(e.target.value);\r\n  };\r\n  const handleChange2 = (e) => {\r\n    setNewNumber(e.target.value);\r\n  };\r\n  const handleChange3 = (e) => {\r\n    setNewFilter(e.target.value);\r\n    if (newFilter) {\r\n      setShowAll(false);\r\n    }\r\n  };\r\n  const delById = (id) => {\r\n    const person = persons.find((p) => p.id === id);\r\n    if (window.confirm(`Delete ${person.name}`)) {\r\n      numberServices\r\n        .del(id)\r\n        .then((res) => {\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n          notificationFactory(\r\n            \"done\",\r\n            `${person.name} succesfully deleted from your phonebook`\r\n          );\r\n          setTimeout(() => {\r\n            setNotification(null);\r\n          }, 4000);\r\n        })\r\n        .catch((err) => {\r\n          notificationFactory(\r\n            \"error\",\r\n            `${person.name} already removed from your phonebook`\r\n          );\r\n          setTimeout(() => {\r\n            setNotification(null);\r\n          }, 4000);\r\n          setPersons(persons.filter((person) => person.id !== id));\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification notification={notification} />\r\n      <Filter onChange={handleChange3} />\r\n      <h2>Add a new</h2>\r\n      <Form\r\n        newName={newName}\r\n        handleChange={handleChange}\r\n        newNumber={newNumber}\r\n        handleChange2={handleChange2}\r\n        addPerson={addPerson}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Content personsToShow={personsToShow} handleDelete={delById} />\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n\n"],"sourceRoot":""}